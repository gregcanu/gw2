{% extends 'base.html.twig' %}

{% block title %}Items GW2{% endblock %}

{% block body %}
    <div class="page-header">
        <h1>Items GW2</h1>
    </div>
    <br>
    <a href="{{ path('item_new') }}" class="btn btn-outline-primary">Ajouter un nouvel item</a>
    <table id="tableGw2Items" class="table table-hover">
        <thead>
            <tr class="d-flex">
                <th scope="col" class="col-1"></th>
                <th scope="col" class="col-3">Nom</th>
                <th scope="col" class="col-2 align_right">Achat</th>
                <th scope="col" class="col-2 align_right">Vente</th>
                <th scope="col" class="col-2 align_right">Vendre à</th>
                <th scope="col" class="col-2"></th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
                {% if item.is_sellable == 1 %}
                    <tr class="d-flex bc-green">
                    {% else %}
                    <tr class="d-flex">
                    {% endif %} 
                    <td class="cell_icon col-1"><img src="{{ asset(('img/gw2/')) }}{{ item.image }}" alt="" class="item_icon"></td>
                    <td class="cell_name col-3"> <a href="{{ path('item_show', {'id': item.id}) }}">{{ item.name }}</a></td>
                    <td class="cell_buy col-2 align_right">
                        {% if item.price.buy.gold != 0 %} <span class="gold">{{ item.price.buy.gold }}</span> <img src="{{ asset(('img/gw2/gold.png')) }}"> {% endif %}
                        {% if item.price.buy.silver != 0 or item.price.buy.gold > 0 %} <span class="silver"> {{ item.price.buy.silver }} </span> <img src="{{ asset(('img/gw2/silver.png')) }}"> {% endif %}
                        <span class="copper"> {{ item.price.buy.copper }} </span> <img src="{{ asset(('img/gw2/copper.png')) }}"> 
                    </td>
                    <td class="cell_sell col-2 align_right">
                        {% if item.price.sell.gold != 0 %} <span class="gold"> {{ item.price.sell.gold }} </span> <img src="{{ asset(('img/gw2/gold.png')) }}"> {% endif %}
                        {% if item.price.sell.silver != 0 or item.price.sell.gold > 0%} <span class="silver"> {{ item.price.sell.silver }} </span><img src="{{ asset(('img/gw2/silver.png')) }}"> {% endif %}
                        <span class="copper"> {{ item.price.sell.copper }} </span> <img src="{{ asset(('img/gw2/copper.png')) }}"> 
                    </td>
                    <td class="cell_sell col-2 align_right">
                        {% if item.price_to_sell.gold != 0 %} {{ item.price_to_sell.gold }} <span class="gold"> </span> <img src="{{ asset(('img/gw2/gold.png')) }}"> {% endif %}
                        {% if item.price_to_sell.silver != 0 or item.price_to_sell.gold > 0 %} <span class="silver"> {{ item.price_to_sell.silver }} </span> <img src="{{ asset(('img/gw2/silver.png')) }}"> {% endif %}
                        <span class="copper"> {{ item.price_to_sell.copper }} </span> <img src="{{ asset(('img/gw2/copper.png')) }}"> 
                    </td>
                    <td class="col-2 align_center">
                        <a href="{{ path('item_edit', {'id': item.id}) }}" class="btn btn-outline-info">modifier</a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="6">Aucun item à afficher</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
